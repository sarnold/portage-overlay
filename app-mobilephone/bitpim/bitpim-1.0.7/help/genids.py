#!/usr/bin/env python

# Generates the helpids file from the C header that
# helpblocks maintains

import sys

inf=open(sys.argv[1], "r")
outf=open(sys.argv[2], "w")
str="""# Automatically generated file
# Generated by $Id: genids.py 271 2003-09-01 21:04:18Z rogerb $
# DO NOT EDIT

'''IDs that map from constants to sections within the help

@Note: This is an autogenerated file.  See my source for details.
'''
"""
str=str.replace("$", "")
outf.write(str)
lines=[]
for line in inf.readlines():
    str,id=line.split('=')
    id=id.replace('\n', '')
    id=id.replace('\r', '')
    lines.append('%s="%s"' % (str,id))
lines.sort()
outf.write("\n".join(lines))
outf.write("\n") # pyxr falls over without trailing newline
inf.close()
outf.close()

